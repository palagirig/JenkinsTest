<?xml version="1.0" encoding="UTF-8"?>
<CustomObject xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionOverrides>
        <actionName>Accept</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>CancelEdit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Clone</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Delete</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Edit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>List</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>New</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>SaveEdit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Tab</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>View</actionName>
        <type>Default</type>
    </actionOverrides>
    <allowInChatterGroups>false</allowInChatterGroups>
    <compactLayoutAssignment>SYSTEM</compactLayoutAssignment>
    <deploymentStatus>Deployed</deploymentStatus>
    <deprecated>false</deprecated>
    <enableActivities>false</enableActivities>
    <enableBulkApi>true</enableBulkApi>
    <enableChangeDataCapture>false</enableChangeDataCapture>
    <enableFeeds>false</enableFeeds>
    <enableHistory>false</enableHistory>
    <enableReports>false</enableReports>
    <enableSearch>true</enableSearch>
    <enableSharing>true</enableSharing>
    <enableStreamingApi>true</enableStreamingApi>
    <fields>
        <fullName>ADvendio__AdImpressions__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Ad Impressions</label>
        <precision>18</precision>
        <required>true</required>
        <scale>0</scale>
        <trackTrending>false</trackTrending>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>ADvendio__AdPrice__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <deprecated>false</deprecated>
        <description>This relation is optionally.</description>
        <externalId>false</externalId>
        <inlineHelpText>This relation is optionally.</inlineHelpText>
        <label>Ad Price</label>
        <referenceTo>ADvendio__Ad_price__c</referenceTo>
        <relationshipLabel>Time-Based Guaranteed AIs</relationshipLabel>
        <relationshipName>TimeBasedGuaranteedAIs</relationshipName>
        <required>false</required>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>ADvendio__AdSpec__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Ad Spec</label>
        <referenceTo>ADvendio__Ad_Specs__c</referenceTo>
        <relationshipLabel>Time-Based Guaranteed AIs</relationshipLabel>
        <relationshipName>TimeBasedGuaranteedAIs</relationshipName>
        <relationshipOrder>0</relationshipOrder>
        <reparentableMasterDetail>false</reparentableMasterDetail>
        <trackTrending>false</trackTrending>
        <type>MasterDetail</type>
        <writeRequiresMasterRead>false</writeRequiresMasterRead>
    </fields>
    <fields>
        <fullName>ADvendio__BillingCategory__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Billing Category</label>
        <required>false</required>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>CPM</fullName>
                    <default>false</default>
                    <label>CPM</label>
                </value>
                <value>
                    <fullName>Fixed Price</fullName>
                    <default>false</default>
                    <label>Fixed Price</label>
                </value>
                <value>
                    <fullName>CPC</fullName>
                    <default>false</default>
                    <label>CPC</label>
                </value>
                <value>
                    <fullName>CPO</fullName>
                    <default>false</default>
                    <label>CPO</label>
                </value>
                <value>
                    <fullName>CPD</fullName>
                    <default>false</default>
                    <label>CPD</label>
                </value>
                <value>
                    <fullName>CPW</fullName>
                    <default>false</default>
                    <label>CPW</label>
                </value>
                <value>
                    <fullName>CPMo</fullName>
                    <default>false</default>
                    <label>CPMo</label>
                </value>
                <value>
                    <fullName>CPY</fullName>
                    <default>false</default>
                    <label>CPY</label>
                </value>
                <value>
                    <fullName>CPL</fullName>
                    <default>false</default>
                    <label>CPL</label>
                </value>
                <value>
                    <fullName>CPx</fullName>
                    <default>false</default>
                    <label>CPx</label>
                </value>
                <value>
                    <fullName>CPMSec</fullName>
                    <default>false</default>
                    <label>CPMSec</label>
                </value>
                <value>
                    <fullName>edition</fullName>
                    <default>false</default>
                    <label>edition</label>
                </value>
                <value>
                    <fullName>allin</fullName>
                    <default>false</default>
                    <label>allin</label>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>ADvendio__EndDate__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>End Date</label>
        <required>false</required>
        <trackTrending>false</trackTrending>
        <type>Date</type>
    </fields>
    <fields>
        <fullName>ADvendio__StartDate__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Start Date</label>
        <required>false</required>
        <trackTrending>false</trackTrending>
        <type>Date</type>
    </fields>
    <fields>
        <fullName>P7S1_IdOld__c</fullName>
        <description>Salesforce ID aus einer anderen/alten Org imRahmen einer Datenmigration</description>
        <externalId>false</externalId>
        <inlineHelpText>Salesforce ID aus einer anderen/alten Org imRahmen einer Datenmigration</inlineHelpText>
        <label>P7S1_IdOld</label>
        <length>18</length>
        <required>false</required>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <label>Time-Based Guaranteed AI</label>
    <listViews>
        <fullName>ADvendio__All</fullName>
        <columns>NAME</columns>
        <columns>ADvendio__AdPrice__c</columns>
        <columns>ADvendio__AdSpec__c</columns>
        <columns>ADvendio__BillingCategory__c</columns>
        <columns>ADvendio__StartDate__c</columns>
        <columns>ADvendio__EndDate__c</columns>
        <columns>ADvendio__AdImpressions__c</columns>
        <filterScope>Everything</filterScope>
        <label>All</label>
        <language>en_US</language>
    </listViews>
    <listViews>
        <fullName>ADvendio__All1</fullName>
        <filterScope>Everything</filterScope>
        <label>All</label>
    </listViews>
    <nameField>
        <displayFormat>GAI-{0}</displayFormat>
        <label>Time-Based Guaranteed AI No.</label>
        <type>AutoNumber</type>
    </nameField>
    <pluralLabel>Time-Based Guaranteed AIs</pluralLabel>
    <searchLayouts>
        <lookupDialogsAdditionalFields>ADvendio__AdSpec__c</lookupDialogsAdditionalFields>
        <lookupDialogsAdditionalFields>ADvendio__BillingCategory__c</lookupDialogsAdditionalFields>
        <lookupDialogsAdditionalFields>ADvendio__AdImpressions__c</lookupDialogsAdditionalFields>
        <lookupDialogsAdditionalFields>CREATEDBY_USER</lookupDialogsAdditionalFields>
        <lookupDialogsAdditionalFields>CREATED_DATE</lookupDialogsAdditionalFields>
        <lookupPhoneDialogsAdditionalFields>ADvendio__AdSpec__c</lookupPhoneDialogsAdditionalFields>
        <lookupPhoneDialogsAdditionalFields>ADvendio__BillingCategory__c</lookupPhoneDialogsAdditionalFields>
        <lookupPhoneDialogsAdditionalFields>ADvendio__AdImpressions__c</lookupPhoneDialogsAdditionalFields>
        <lookupPhoneDialogsAdditionalFields>CREATEDBY_USER</lookupPhoneDialogsAdditionalFields>
        <lookupPhoneDialogsAdditionalFields>CREATED_DATE</lookupPhoneDialogsAdditionalFields>
        <searchFilterFields>NAME</searchFilterFields>
        <searchFilterFields>ADvendio__AdSpec__c</searchFilterFields>
        <searchFilterFields>ADvendio__BillingCategory__c</searchFilterFields>
        <searchFilterFields>ADvendio__AdImpressions__c</searchFilterFields>
        <searchFilterFields>CREATEDBY_USER</searchFilterFields>
        <searchFilterFields>CREATED_DATE</searchFilterFields>
    </searchLayouts>
    <sharingModel>ControlledByParent</sharingModel>
    <visibility>Public</visibility>
    <webLinks>
        <fullName>ADvendio__NewFromAdprice</fullName>
        <availability>online</availability>
        <displayType>massActionButton</displayType>
        <linkType>javascript</linkType>
        <masterLabel>New Time-Based Guaranteed AI</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <requireRowSelection>false</requireRowSelection>
        <url>var prefix = &apos;ADvendio&apos;;

function sendGetRequest(url){
  var xhttp = new XMLHttpRequest();
  var sessionId = &apos;{!$Api.Session_ID}&apos;;
  xhttp.open(&quot;GET&quot;, url, false);// false let it run syncron

  xhttp.setRequestHeader(&quot;Authorization&quot;, &quot;OAuth &quot; + sessionId);
  xhttp.setRequestHeader(&apos;Accept&apos;, &quot;application/json&quot;);
  xhttp.send(null);
  return xhttp.responseText;
}

function queryFromTooling(query){
  var toolingQueryURL = &apos;/services/data/v35.0/tooling/query/?q=&apos;;
  var requestUrl = toolingQueryURL + query;
  var response = sendGetRequest(requestUrl);
  return JSON.parse(response);
}

function queryFieldId(fieldName, objId){
  query = &apos;SELECT Id, DeveloperName, TableEnumOrId FROM CustomField WHERE TableEnumOrId = \&apos;&apos; + objId + &apos;\&apos; AND DeveloperName = \&apos;&apos; + fieldName + &apos;\&apos; AND NamespacePrefix = \&apos;&apos; + prefix + &apos;\&apos;&apos;;
  queryResult = queryFromTooling(query);
  return queryResult.records[0].Id.substring(0, 15);

}

query = &apos;Select Id, DeveloperName, NamespacePrefix From CustomObject Where DeveloperName = \&apos;TimeBasedGuaranteedAI\&apos; AND NamespacePrefix = \&apos;&apos; + prefix + &apos;\&apos;&apos;;
queryResult = queryFromTooling(query);
tbgaiObjId = queryResult.records[0].Id;

adSpecFieldId = queryFieldId(&apos;AdSpec&apos;, tbgaiObjId);
billingCatFieldId = queryFieldId(&apos;BillingCategory&apos;, tbgaiObjId);
adPriceFieldId = queryFieldId(&apos;AdPrice&apos;, tbgaiObjId);

hackedURL = &apos;/{!$ObjectType.ADvendio__TimeBasedGuaranteedAI__c}/e?&apos;;
hackedURL += &apos;CF&apos; + adPriceFieldId + &apos;=&apos; + encodeURIComponent(&apos;{!ADvendio__Ad_price__c.Name}&apos;);
hackedURL += &apos;&amp;CF&apos; + adPriceFieldId + &apos;_lkid={!ADvendio__Ad_price__c.Id}&apos;;
hackedURL += &apos;&amp;CF&apos; + adSpecFieldId + &apos;=&apos; + encodeURIComponent(&apos;{!ADvendio__Ad_Specs__c.Name}&apos;);
hackedURL += &apos;&amp;CF&apos; + adSpecFieldId + &apos;_lkid={!ADvendio__Ad_price__c.ADvendio__Ad_SpecId__c}&apos;;
hackedURL += &apos;&amp;&apos; + billingCatFieldId + &apos;=&apos; + encodeURIComponent(&apos;{!ADvendio__Ad_price__c.ADvendio__Billing_Category__c}&apos;);
window.location = hackedURL;</url>
    </webLinks>
</CustomObject>
